class TransferElements{constructor(...e){if(0===e.length)throw TypeError("at least one object with parameters must be specified for the constructor");const t=[],r=e.map(e=>{if("[object Object]"!==this.#e(e))throw TypeError("the arguments specified for the constructor must be objects of type 'Object'");["sourceElement","breakpoints"].forEach(t=>{if(!Object.hasOwn(e,t))throw TypeError(`the '${t}' parameter is not specified for the main object`)});const{sourceElement:r,breakpoints:n}=e;if(!(r instanceof Element))throw TypeError("the value specified for the 'sourceElement' parameter must be an object of type 'Element'");if(t.some(e=>e.sourceElement===r))throw TypeError(`there can only be one object in the constructor with such a 'sourceElement': '${r.cloneNode().outerHTML}'`);const o=r.parentElement,i=r.nextElementSibling;return t.push({sourceElement:r,initialParent:o,initialNextSibling:i}),e.breakpoints=this.#t(n,r),e}),n=[...r.reduce((e,{breakpoints:t})=>(Object.keys(t).forEach(t=>{Number(t)&&e.add(t)}),e),new Set).add("default")].sort((e,t)=>e-t),o=n.reduce((e,t)=>(e.set(t,[]),e),new Map);r.forEach(({sourceElement:e,breakpoints:t})=>{Object.entries(t).forEach(([t,{targetElement:r,targetPosition:n}])=>{o.get(t).push({sourceElement:e,targetElement:r,targetPosition:n})})}),o.forEach(e=>{this.#r(e),this.#n(e),this.#o(e,!0),e.length=0,t.forEach(({sourceElement:t})=>{e.push(this.#i(t,!0))}),this.#r(e)});let i="default";new ResizeObserver(([{borderBoxSize:[{inlineSize:e}],target:r}])=>{const a=e+this.#a(r),s=this.#s(n,a);if(i!==s){const e=o.get(s);this.#n(e),"default"===s?t.forEach(({sourceElement:e,initialParent:t,initialNextSibling:r})=>{if(t)try{r&&r.parentNode===t?t.insertBefore(e,r):t.appendChild(e)}catch(n){console.error("TransferElements: insertBefore failed",{sourceElement:e,initialParent:t,initialNextSibling:r,error:n}),t.appendChild(e)}}):this.#o(e,!1),i=s}}).observe(document.documentElement)}#t(e,t){if("[object Object]"!==this.#e(e))throw TypeError("the value specified for the 'breakpoints' parameter must be an object of type 'Object'");const r=Object.entries(e);if(0===r.length)throw TypeError("at least one breakpoint must be specified for the 'breakpoints' object");const n=Object.fromEntries(r.map(([e,r])=>{const n=Number(e);if(!n||n<=0||n>Number.MAX_SAFE_INTEGER)throw RangeError("the breakpoint trigger must be a safe (integer or fractional) number greater than zero");if("[object Object]"!==this.#e(r))throw TypeError("the breakpoint object must be of type 'Object'");if(!Object.hasOwn(r,"targetElement"))throw TypeError("the 'targetElement' parameter is not specified for the breakpoint object");const{targetElement:o,targetPosition:i}=r;if(!(o instanceof Element))throw TypeError("the value specified for the 'targetElement' parameter must be an object of type 'Element'");if(t===o)throw TypeError("the value specified for the 'targetElement' parameter must be different from the value specified for the 'sourceElement' parameter");if(this.#l(o,t))throw TypeError("the element that is specified as the value for the 'targetElement' parameter must not be a descendant of the element specified as the value for the 'sourceElement' parameter");if(this.#c(o))throw TypeError("the element specified as the value for the 'targetElement' parameter must be a paired tag");let a="number"==typeof e?e:0;return"number"!=typeof e&&(a="first"==e?0:"last"==e?o.children.length:0),[n,{targetPosition:a,...r}]}));return n.default=this.#i(t,!1),n}#m(e){return e.children}#s(e,t){let r,n=0,o=e.length-2;for(;n<=o;){const i=Math.floor((n+o)/2),a=e[i];if(a==t)return a;a>t?o=i-1:n=i+1,a-t>0&&(r=a)}return r??"default"}#a(e){const t=window.innerWidth,r=Math.min(e.clientWidth,e.offsetWidth);let n=0;return r!==t&&(n+=t-r),n}#e(e){return Object.prototype.toString.call(e)}#l(e,t){for(;e=e.parentElement;)if(e===t)return!0;return!1}#c(e){return!new RegExp(/<\/[a-zA-Z]+>$/).test(e.outerHTML)}#r(e){e.length>1&&e.sort((e,t)=>e.targetPosition-t.targetPosition)}#n(e){e.forEach(({sourceElement:e})=>{e.remove()})}#o(e,t){e.forEach(({sourceElement:e,targetElement:r,targetPosition:n})=>{const o=this.#m(r);t&&this.#h(o,n);const i=o[n];i&&i.parentNode===r?r.insertBefore(e,i):r.append(e)})}#h(e,t){e.length}#i(e,t){const r=e.parentElement,n={targetElement:r,targetPosition:r?Array.from(r.children).indexOf(e):-1};return t&&(n.sourceElement=e),n}}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-da]").forEach(e=>{let t=e.getAttribute("data-da").split("|"),r={};t.forEach(e=>{let[t,n,o]=e.split(",");"first"===o&&(o=0);let i=function(e,t=document){let r=e.trim().split(" "),n=t;for(let e of r){let t=e.match(/(.+?)\[(\d+)\]/);if(t){let e=t[1],r=parseInt(t[2]),o=n.querySelectorAll(e);n=o[r]||null}else n=n.querySelector(e);if(!n)break}return n}(t);i&&(r[n]={targetElement:i,targetPosition:o})}),new TransferElements({sourceElement:e,breakpoints:r})})});